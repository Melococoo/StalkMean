<!DOCTYPE html>
<html lang="frr">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic"> 
        <link rel="stylesheet" href="//cdn.rawgit.com/necolas/normalize.css/master/normalize.css"> 
        <link rel="stylesheet" href="//cdn.rawgit.com/milligram/milligram/master/dist/milligram.min.css">
        <link rel="stylesheet" href="./css/main.css">
        <title>Accueil</title>
    </head>
    <body>
        <header>
            <h1>Accueil</h1>
            <!-- 
                To check if user is connected, try this:
                - <p>User data: <b><%= connectedUser %></b></p>
            -->
            <nav>
                <ul>
                    <li><a href="/">Accueil</a></li>
                    <!-- 
                        You need to check if the user is connected to display 
                        or not those links
                        - https://gist.github.com/DWS-paris/30ccb1df09b0acaa2ca9f587af7be952
                    -->
                    <li><a href="/login">Connnexion</a></li>
                    <li><a href="/me">Mon compte</a></li>
                </ul>
            </nav>
        </header>

        <main>
            <h2>Liste des utilisateurs</h2>
            <!-- 
               You need to send data from '../routes/front.router' and make a loop
               to create a liste of data
               - https://gist.github.com/DWS-paris/2fbb6ebdbacec0f529a93394ac226df1
            -->
        </main>
        
        <script>
            // You can save a cookie like this:
            localStorage.setItem('user-email', 'j.noyer@digitalworrkshop.fr');

            // You can send data to server like this:
            fetch('/api', {
                method: 'POST',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ user: localStorage.getItem('user-email') })
            })
            .then( response => response.json() )
            .then( json => console.log(json) )
            .catch( error => console.error(error) );
        </script>
    </body>
</html>